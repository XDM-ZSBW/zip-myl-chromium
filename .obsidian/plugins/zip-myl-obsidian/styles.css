/* ZIP-Myl Obsidian Plugin Styles */

/* Ribbon icon base styling */
.zip-myl-ribbon-class {
	transition: all 0.3s ease;
	cursor: pointer;
}

/* Right-click context menu styling */
.zip-myl-context-menu {
	position: fixed;
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 8px;
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
	min-width: 250px;
	z-index: 10000;
	backdrop-filter: blur(10px);
	animation: context-menu-fade-in 0.2s ease-out;
}

@keyframes context-menu-fade-in {
	from {
		opacity: 0;
		transform: scale(0.95) translateY(-5px);
	}
	to {
		opacity: 1;
		transform: scale(1) translateY(0);
	}
}

.zip-myl-context-menu-header {
	padding: 16px 20px 12px 20px;
	border-bottom: 1px solid var(--background-modifier-border);
	background: linear-gradient(135deg, #4a9eff 0%, #357abd 100%);
	color: white;
	border-radius: 8px 8px 0 0;
}

.zip-myl-context-menu-title {
	font-size: 16px;
	font-weight: bold;
	margin-bottom: 4px;
}

.zip-myl-context-menu-status {
	font-size: 12px;
	opacity: 0.9;
}

.zip-myl-context-menu-separator {
	height: 1px;
	background: var(--background-modifier-border);
	margin: 8px 0;
}

.zip-myl-context-menu-item {
	padding: 12px 20px;
	cursor: pointer;
	transition: all 0.2s ease;
	display: flex;
	align-items: center;
	gap: 8px;
}

.zip-myl-context-menu-item:hover {
	background: var(--background-secondary);
	color: #4a9eff;
}

.zip-myl-context-menu-item:active {
	background: var(--background-modifier-hover);
	transform: scale(0.98);
}

/* Toggle Switch Styles */
.zip-myl-context-menu-toggle {
	padding: 12px 16px;
	margin: 4px 0;
	border-radius: 8px;
	transition: all 0.2s ease;
}

.zip-myl-context-menu-toggle:hover {
	background: linear-gradient(135deg, #3a3a3a 0%, #2a2a2a 100%);
}

.zip-myl-toggle-label {
	display: flex;
	justify-content: space-between;
	align-items: center;
	color: #ffffff;
	font-size: 14px;
	font-weight: 500;
}

.zip-myl-toggle-switch {
	position: relative;
	display: inline-block;
	width: 48px;
	height: 24px;
}

.zip-myl-toggle-switch input {
	opacity: 0;
	width: 0;
	height: 0;
}

.zip-myl-toggle-slider {
	position: absolute;
	cursor: pointer;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-color: #4a4a4a;
	transition: 0.3s;
	border-radius: 24px;
}

.zip-myl-toggle-slider:before {
	position: absolute;
	content: "";
	height: 18px;
	width: 18px;
	left: 3px;
	bottom: 3px;
	background-color: #ffffff;
	transition: 0.3s;
	border-radius: 50%;
}

.zip-myl-toggle-switch input:checked + .zip-myl-toggle-slider {
	background-color: #4CAF50;
}

.zip-myl-toggle-switch input:checked + .zip-myl-toggle-slider:before {
	transform: translateX(24px);
}

.zip-myl-toggle-switch input:focus + .zip-myl-toggle-slider {
	box-shadow: 0 0 1px #4CAF50;
}

/* Enhanced Settings Page Styles */
.zip-myl-settings-page {
	padding: 20px;
	background: var(--background-primary);
}

.zip-myl-settings-header {
	display: flex;
	justify-content: space-between;
	align-items: flex-start;
	margin-bottom: 30px;
	padding: 20px;
	background: linear-gradient(135deg, rgba(74, 158, 255, 0.1) 0%, rgba(74, 158, 255, 0.05) 100%);
	border-radius: 12px;
	border: 1px solid rgba(74, 158, 255, 0.2);
}

.zip-myl-settings-header-main h2 {
	color: #4a9eff;
	margin: 0 0 8px 0;
	font-size: 24px;
}

.zip-myl-settings-header-main p {
	margin: 0;
	color: var(--text-muted);
	font-size: 14px;
}

.zip-myl-settings-header-stats {
	display: flex;
	gap: 20px;
}

.zip-myl-stat-item {
	text-align: center;
	padding: 12px 16px;
	background: rgba(255, 255, 255, 0.1);
	border-radius: 8px;
	min-width: 80px;
}

.zip-myl-stat-value {
	font-size: 24px;
	font-weight: bold;
	color: #4a9eff;
	margin-bottom: 4px;
}

.zip-myl-stat-label {
	font-size: 12px;
	color: var(--text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.zip-myl-settings-section {
	margin-bottom: 30px;
	padding: 20px;
	background: var(--background-secondary);
	border-radius: 8px;
	border: 1px solid var(--background-modifier-border);
}

.zip-myl-settings-section h3 {
	color: #4a9eff;
	margin: 0 0 20px 0;
	font-size: 18px;
	border-bottom: 2px solid #4a9eff;
	padding-bottom: 8px;
}

/* Quick Settings Panel Styles */
.zip-myl-quick-settings {
	padding: 20px;
	background: var(--background-primary);
}

.zip-myl-quick-header {
	text-align: center;
	margin-bottom: 25px;
	padding: 20px;
	background: linear-gradient(135deg, rgba(74, 158, 255, 0.1) 0%, rgba(74, 158, 255, 0.05) 100%);
	border-radius: 12px;
}

.zip-myl-quick-header h3 {
	color: #4a9eff;
	margin: 0 0 8px 0;
	font-size: 20px;
}

.zip-myl-quick-header p {
	margin: 0;
	color: var(--text-muted);
	font-size: 14px;
}

.zip-myl-quick-section {
	margin-bottom: 25px;
	padding: 16px;
	background: var(--background-secondary);
	border-radius: 8px;
	border: 1px solid var(--background-modifier-border);
}

.zip-myl-quick-section h4 {
	color: #4a9eff;
	margin: 0 0 15px 0;
	font-size: 16px;
}

.zip-myl-quick-btn {
	width: 100%;
	padding: 12px 16px;
	margin-bottom: 8px;
	border: none;
	border-radius: 6px;
	font-weight: bold;
	cursor: pointer;
	transition: all 0.2s ease;
	background: #4a9eff;
	color: white;
}

.zip-myl-quick-btn:hover {
	background: #357abd;
	transform: translateY(-1px);
	box-shadow: 0 4px 12px rgba(74, 158, 255, 0.3);
}

.zip-myl-quick-btn-secondary {
	background: #666;
}

.zip-myl-quick-btn-secondary:hover {
	background: #555;
}

.zip-myl-quick-status {
	background: rgba(74, 158, 255, 0.05);
	border-radius: 6px;
	padding: 12px;
}

.zip-myl-status-item {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 8px 0;
	border-bottom: 1px solid rgba(74, 158, 255, 0.1);
}

.zip-myl-status-item:last-child {
	border-bottom: none;
}

.zip-myl-status-label {
	font-weight: bold;
	color: var(--text-normal);
}

.zip-myl-status-value {
	font-weight: bold;
	color: #4a9eff;
}

/* Help Modal Styles */
.zip-myl-help-modal {
	padding: 20px;
	background: var(--background-primary);
}

.zip-myl-help-header {
	text-align: center;
	margin-bottom: 30px;
	padding: 20px;
	background: linear-gradient(135deg, rgba(74, 158, 255, 0.1) 0%, rgba(74, 158, 255, 0.05) 100%);
	border-radius: 12px;
}

.zip-myl-help-header h3 {
	color: #4a9eff;
	margin: 0 0 8px 0;
	font-size: 24px;
}

.zip-myl-help-header p {
	margin: 0;
	color: var(--text-muted);
	font-size: 16px;
}

.zip-myl-help-section {
	margin-bottom: 25px;
	padding: 20px;
	background: var(--background-secondary);
	border-radius: 8px;
	border: 1px solid var(--background-modifier-border);
}

.zip-myl-help-section h4 {
	color: #4a9eff;
	margin: 0 0 15px 0;
	font-size: 18px;
}

.zip-myl-help-section ul {
	margin: 0;
	padding-left: 20px;
}

.zip-myl-help-section li {
	margin-bottom: 8px;
	line-height: 1.5;
}

.zip-myl-help-section strong {
	color: #4a9eff;
}

/* Dynamic color states based on typing activity */
.zip-myl-color-low {
	background-color: #4CAF50 !important; /* Green - Ready */
	color: white !important;
}

.zip-myl-color-medium {
	background-color: #FF9800 !important; /* Orange - Active */
	color: white !important;
}

.zip-myl-color-high {
	background-color: #F44336 !important; /* Red - High Activity */
	color: white !important;
}

/* Hover effects */
.zip-myl-ribbon-class:hover {
	transform: scale(1.1);
	box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.zip-myl-color-low:hover {
	background-color: #45a049 !important;
}

.zip-myl-color-medium:hover {
	background-color: #e68900 !important;
}

.zip-myl-color-high:hover {
	background-color: #da190b !important;
}

/* Attention flash effect */
.zip-myl-attention-flash {
	animation: attention-flash 0.5s ease-in-out;
}

@keyframes attention-flash {
	0% { transform: scale(1); }
	50% { transform: scale(1.2); background-color: #FFD700 !important; }
	100% { transform: scale(1); }
}

/* Cursor Proximity Indicators for Run-on Thought Detection */
.zip-myl-cursor-indicator {
	position: fixed;
	z-index: 10001;
	background: rgba(255, 193, 7, 0.95);
	border: 2px solid #FF9800;
	border-radius: 8px;
	padding: 8px 12px;
	box-shadow: 0 4px 16px rgba(255, 193, 7, 0.3);
	min-width: 200px;
	opacity: 0;
	transform: scale(0.8);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	backdrop-filter: blur(8px);
	pointer-events: none;
}

.zip-myl-indicator-content {
	display: flex;
	align-items: center;
	gap: 8px;
	color: #333;
	font-weight: bold;
	font-size: 14px;
}

.zip-myl-indicator-icon {
	font-size: 16px;
}

.zip-myl-indicator-text {
	flex-grow: 1;
}

.zip-myl-indicator-score {
	background: rgba(255, 255, 255, 0.8);
	padding: 2px 6px;
	border-radius: 4px;
	font-size: 12px;
	min-width: 40px;
	text-align: center;
}

/* Severity-based styling */
.zip-myl-severity-low {
	background: rgba(76, 175, 80, 0.95);
	border-color: #4CAF50;
}

.zip-myl-severity-medium {
	background: rgba(255, 152, 0, 0.95);
	border-color: #FF9800;
}

.zip-myl-severity-high {
	background: rgba(244, 67, 54, 0.95);
	border-color: #F44336;
	color: white;
}

.zip-myl-severity-high .zip-myl-indicator-content {
	color: white;
}

.zip-myl-severity-high .zip-myl-indicator-score {
	background: rgba(255, 255, 255, 0.2);
	color: white;
}

/* Indicator animation styles */
.zip-myl-indicator-pulse {
	animation: indicator-pulse 2s ease-in-out infinite;
}

@keyframes indicator-pulse {
	0%, 100% { transform: scale(1); }
	50% { transform: scale(1.05); }
}

.zip-myl-indicator-glow {
	animation: indicator-glow 2s ease-in-out infinite;
	box-shadow: 0 4px 16px rgba(255, 193, 7, 0.5), 0 0 20px rgba(255, 193, 7, 0.3);
}

@keyframes indicator-glow {
	0%, 100% { box-shadow: 0 4px 16px rgba(255, 193, 7, 0.5), 0 0 20px rgba(255, 193, 7, 0.3); }
	50% { box-shadow: 0 4px 16px rgba(255, 193, 7, 0.8), 0 0 30px rgba(255, 193, 7, 0.6); }
}

.zip-myl-indicator-ripple {
	animation: indicator-ripple 2s ease-in-out infinite;
}

@keyframes indicator-ripple {
	0% { transform: scale(1); }
	50% { transform: scale(1.1); }
	100% { transform: scale(1); }
}

.zip-myl-indicator-bounce {
	animation: indicator-bounce 1.5s ease-in-out infinite;
}

@keyframes indicator-bounce {
	0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
	40% { transform: translateY(-8px); }
	60% { transform: translateY(-4px); }
}

/* Plugin settings styling */
.zip-myl-settings {
	padding: 20px;
}

.zip-myl-settings h2 {
	color: #4a9eff;
	margin-bottom: 20px;
}

.zip-myl-settings h3 {
	color: #4a9eff;
	margin: 25px 0 15px 0;
	border-bottom: 2px solid #4a9eff;
	padding-bottom: 5px;
}

.zip-myl-settings .setting-item {
	margin-bottom: 15px;
}

.zip-myl-settings .setting-item-name {
	font-weight: bold;
	margin-bottom: 5px;
}

.zip-myl-settings .setting-item-description {
	color: #666;
	font-size: 0.9em;
	margin-bottom: 10px;
}

/* Status bar styling */
.zip-myl-status {
	color: #4a9eff;
	font-weight: bold;
	padding: 2px 8px;
	border-radius: 4px;
	background: rgba(74, 158, 255, 0.1);
}

/* Modal styling */
.zip-myl-modal {
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 8px;
	padding: 20px;
	max-width: 500px;
}

.zip-myl-modal h3 {
	color: #4a9eff;
	margin-top: 0;
}

.zip-myl-modal .modal-content {
	margin: 15px 0;
}

.zip-myl-modal .modal-content p {
	margin: 8px 0;
	line-height: 1.4;
}

.zip-myl-modal .modal-actions {
	display: flex;
	justify-content: flex-end;
	gap: 10px;
	margin-top: 20px;
}

.zip-myl-modal button {
	background: #4a9eff;
	color: white;
	border: none;
	padding: 8px 16px;
	border-radius: 4px;
	cursor: pointer;
	transition: background-color 0.2s ease;
}

.zip-myl-modal button:hover {
	background: #357abd;
}

.zip-myl-modal button.secondary {
	background: #666;
}

.zip-myl-modal button.secondary:hover {
	background: #555;
}

/* Typing indicator animation */
@keyframes typing-pulse {
	0% { transform: scale(1); }
	50% { transform: scale(1.05); }
	100% { transform: scale(1); }
}

.zip-myl-color-high svg {
	animation: typing-pulse 1s infinite;
}

/* Popup Overlay Styles */
.zip-myl-popup-overlay {
	position: fixed;
	z-index: 10000;
	background: var(--background-primary);
	border: 2px solid #4a9eff;
	border-radius: 12px;
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
	min-width: 320px;
	max-width: 400px;
	opacity: 0;
	transform: scale(0.8);
	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	backdrop-filter: blur(10px);
	animation: overlay-float 3s ease-in-out infinite;
}

@keyframes overlay-float {
	0%, 100% { transform: translateY(0px); }
	50% { transform: translateY(-5px); }
}

.zip-myl-overlay-header {
	display: flex;
	align-items: center;
	padding: 16px 20px 12px 20px;
	border-bottom: 1px solid var(--background-modifier-border);
	background: linear-gradient(135deg, #4a9eff 0%, #357abd 100%);
	color: white;
	border-radius: 10px 10px 0 0;
}

/* Run-on thought specific header styling */
.zip-myl-overlay-header.run-on-thought {
	background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
	border-color: #FF9800;
}

.zip-myl-overlay-header.severity-high {
	background: linear-gradient(135deg, #F44336 0%, #D32F2F 100%);
	border-color: #F44336;
}

.zip-myl-overlay-header.severity-medium {
	background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
	border-color: #FF9800;
}

.zip-myl-overlay-header.severity-low {
	background: linear-gradient(135deg, #4CAF50 0%, #388E3C 100%);
	border-color: #4CAF50;
}

.zip-myl-overlay-icon {
	font-size: 24px;
	margin-right: 12px;
	animation: icon-bounce 2s ease-in-out infinite;
}

@keyframes icon-bounce {
	0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
	40% { transform: translateY(-8px); }
	60% { transform: translateY(-4px); }
}

.zip-myl-overlay-title {
	font-size: 18px;
	font-weight: bold;
	flex-grow: 1;
}

.zip-myl-overlay-close {
	font-size: 24px;
	cursor: pointer;
	padding: 4px 8px;
	border-radius: 50%;
	transition: background-color 0.2s ease;
	line-height: 1;
}

.zip-myl-overlay-close:hover {
	background-color: rgba(255, 255, 255, 0.2);
}

.zip-myl-overlay-content {
	padding: 20px;
	background: var(--background-primary);
}

.zip-myl-overlay-context,
.zip-myl-overlay-confidence,
.zip-myl-overlay-suggestion,
.zip-myl-overlay-severity {
	margin-bottom: 16px;
	padding: 12px;
	background: var(--background-secondary);
	border-radius: 8px;
	border-left: 4px solid #4a9eff;
}

.zip-myl-overlay-context strong,
.zip-myl-overlay-confidence strong,
.zip-myl-overlay-suggestion strong,
.zip-myl-overlay-severity strong {
	color: #4a9eff;
	display: block;
	margin-bottom: 8px;
}

.zip-myl-overlay-suggestion {
	background: linear-gradient(135deg, rgba(74, 158, 255, 0.1) 0%, rgba(74, 158, 255, 0.05) 100%);
	border-left-color: #4CAF50;
}

/* Severity styling in overlay content */
.zip-myl-overlay-severity .severity-high {
	color: #F44336;
	font-weight: bold;
}

.zip-myl-overlay-severity .severity-medium {
	color: #FF9800;
	font-weight: bold;
}

.zip-myl-overlay-severity .severity-low {
	color: #4CAF50;
	font-weight: bold;
}

.zip-myl-overlay-actions {
	display: flex;
	gap: 12px;
	padding: 16px 20px 20px 20px;
	background: var(--background-secondary);
	border-radius: 0 0 10px 10px;
}

.zip-myl-overlay-btn {
	flex: 1;
	padding: 12px 16px;
	border: none;
	border-radius: 8px;
	font-weight: bold;
	cursor: pointer;
	transition: all 0.2s ease;
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.zip-myl-overlay-btn-primary {
	background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
	color: white;
	box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
}

.zip-myl-overlay-btn-primary:hover {
	background: linear-gradient(135deg, #45a049 0%, #3d8b40 100%);
	transform: translateY(-2px);
	box-shadow: 0 4px 12px rgba(76, 175, 80, 0.4);
}

.zip-myl-overlay-btn-secondary {
	background: linear-gradient(135deg, #666 0%, #555 100%);
	color: white;
	box-shadow: 0 2px 8px rgba(102, 102, 102, 0.3);
}

.zip-myl-overlay-btn-secondary:hover {
	background: linear-gradient(135deg, #555 0%, #444 100%);
	transform: translateY(-2px);
	box-shadow: 0 4px 12px rgba(102, 102, 102, 0.4);
}

/* Overlay entrance and exit animations */
.zip-myl-popup-overlay.entering {
	opacity: 1;
	transform: scale(1);
}

.zip-myl-popup-overlay.exiting {
	opacity: 0;
	transform: scale(0.8);
}

/* Settings improvements */
.setting-item-control {
	margin-top: 8px;
}

.setting-item-control input[type="text"] {
	width: 200px;
	padding: 6px 8px;
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	background: var(--background-primary);
	color: var(--text-normal);
}

.setting-item-control .slider-container {
	width: 200px;
}

.setting-item-control .slider {
	width: 100%;
}

/* Status bar improvements */
.zip-myl-status {
	transition: all 0.3s ease;
}

.zip-myl-status:hover {
	background: rgba(74, 158, 255, 0.2);
	cursor: pointer;
}

/* Responsive design */
@media (max-width: 768px) {
	.zip-myl-modal {
		max-width: 90vw;
		margin: 20px;
	}
	
	.zip-myl-modal .modal-actions {
		flex-direction: column;
	}
	
	.zip-myl-modal button {
		width: 100%;
		margin-bottom: 8px;
	}

	.zip-myl-popup-overlay {
		min-width: 280px;
		max-width: 90vw;
		margin: 20px;
	}

	.zip-myl-overlay-actions {
		flex-direction: column;
	}

	.zip-myl-overlay-btn {
		width: 100%;
	}

	.zip-myl-cursor-indicator {
		min-width: 160px;
		max-width: 90vw;
		margin: 20px;
	}
}

/* Dark theme adjustments */
.theme-dark .zip-myl-popup-overlay {
	background: var(--background-primary);
	border-color: #4a9eff;
}

.theme-dark .zip-myl-overlay-content {
	background: var(--background-primary);
}

.theme-dark .zip-myl-overlay-context,
.theme-dark .zip-myl-overlay-confidence,
.theme-dark .zip-myl-overlay-suggestion,
.theme-dark .zip-myl-overlay-severity {
	background: var(--background-secondary);
}

.theme-dark .zip-myl-overlay-actions {
	background: var(--background-secondary);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
	.zip-myl-popup-overlay {
		border-width: 3px;
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
	}

	.zip-myl-overlay-btn {
		border: 2px solid currentColor;
	}

	.zip-myl-cursor-indicator {
		border-width: 3px;
		box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);
	}
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
	.zip-myl-popup-overlay {
		animation: none;
		transition: opacity 0.3s ease;
	}

	.zip-myl-overlay-icon {
		animation: none;
	}

	.zip-myl-overlay-btn:hover {
		transform: none;
	}

	.zip-myl-cursor-indicator {
		animation: none;
		transition: opacity 0.3s ease;
	}
}

